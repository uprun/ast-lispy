{"name@lisperanto":"moveElementsOnCanvasIteration","type@lisperanto":"function","module@lisperanto":"lisperanto","programming-language@lisperanto":"javascript","javascript-function-definition@lisperanto":"function()\r\n{\r\n    var elements = lisperanto.listOfOpenElements();\r\n    const anchorWidth = lisperanto.anchorWidth();\r\n    const margin = anchorWidth ;\r\n    for (const [key, wrapper] of Object.entries(elements)) \r\n    {\r\n        const value = wrapper.wrapped_one();\r\n\r\n        var box = lisperanto.getUIBoxOfElement(wrapper, margin);\r\n        if(typeof(box) === \"undefined\")\r\n        {\r\n            continue;\r\n        }\r\n        \r\n        for (const [innerKey, inner_wrapper] of Object.entries(elements)) \r\n        {\r\n            const innerValue = inner_wrapper.wrapped_one();\r\n            if(wrapper.id() == inner_wrapper.id())\r\n            {\r\n                continue;\r\n            }\r\n            var boxToAvoid = lisperanto.getUIBoxOfElement(inner_wrapper, margin);\r\n            if(typeof(boxToAvoid) === \"undefined\")\r\n            {\r\n                continue;\r\n            }\r\n            \r\n            if(lisperanto.doBoxesIntersect(box, boxToAvoid))\r\n            {\r\n                offset = lisperanto.getMinimalOffsetForBox(box, boxToAvoid, 0);\r\n                if(lisperanto.vectorLengthSquared(offset) > 0)\r\n                {\r\n                    offset = lisperanto.normalizeVector(offset);\r\n                    var factor = anchorWidth / 10.0;\r\n                    offset.x *= factor;\r\n                    offset.y *= factor;\r\n                    wrapper.offsetX(wrapper.offsetX() + offset.x);\r\n                    wrapper.offsetY(wrapper.offsetY() + offset.y);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n}"}