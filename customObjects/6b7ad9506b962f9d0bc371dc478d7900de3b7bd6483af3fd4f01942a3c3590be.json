{"name@lisperanto":"create_wrapper_for_canvas_async","type@lisperanto":"function","module@lisperanto":"lisperanto","programming-language@lisperanto":"javascript","javascript-function-definition@lisperanto":"async function(value)\r\n{\r\n    var wrapper_for_canvas = \r\n    {\r\n        wrapped_one: ko.observable(value),\r\n        \"key_with_changes@lisperanto\": ko.observable(\"\"),\r\n        \"new_value@lisperanto\": ko.observable(\"\"),\r\n        offsetX: ko.observable(0),\r\n        offsetY: ko.observable(0),\r\n    };\r\n\r\n    wrapper_for_canvas[\"id\"] = ko.observable(await lisperanto.calculate_hash_promise(wrapper_for_canvas[\"wrapped_one\"]()));\r\n    wrapper_for_canvas[\"wrapped_one\"].subscribe(async () => \r\n        {\r\n            const new_hash = await lisperanto.calculate_hash_promise(wrapper_for_canvas[\"wrapped_one\"]());\r\n            const previous_hash = wrapper_for_canvas[\"id\"]();\r\n            lisperanto.mapOfOpenElements[new_hash] = lisperanto.mapOfOpenElements[previous_hash];\r\n            delete lisperanto.mapOfOpenElements[previous_hash];\r\n            return wrapper_for_canvas[\"id\"](new_hash);\r\n        });\r\n\r\n    wrapper_for_canvas.inWorldOffsetX = ko.computed(function()\r\n    {\r\n        return wrapper_for_canvas.offsetX() + lisperanto.globalOffsetX();\r\n    });\r\n\r\n    wrapper_for_canvas.inWorldOffsetY = ko.computed(function()\r\n    {\r\n        return wrapper_for_canvas.offsetY() + lisperanto.globalOffsetY();\r\n    });\r\n    return wrapper_for_canvas;\r\n}"}