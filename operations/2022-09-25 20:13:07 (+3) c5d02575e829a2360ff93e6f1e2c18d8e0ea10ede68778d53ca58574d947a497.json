{"operation":"create-initial-version","id_to":"9055a4ce3b6963833062b2eaab83a0323990a6d15124e965493591b64a01c814","initial-data":{"name@lisperanto":"omniBoxInputKeyPress_async","type@lisperanto":"function","module@lisperanto":"lisperanto","programming-language@lisperanto":"javascript","javascript-function-definition@lisperanto":"async function() \r\n{\r\n    if(event.code == \"Enter\" && (event.metaKey || event.ctrlKey))\r\n    {\r\n    }\r\n    else\r\n    {\r\n        if(event.keyCode == 13)\r\n        {\r\n            const key = lisperanto.activeOperation();\r\n            var map = \r\n            {\r\n                \"add-statement-key-to-json-entry\": () => lisperanto.add_statement_key_to_json_entry(),\r\n                'add-text-value-to-json-entry':async () => await lisperanto.add_text_value_to_json_entry_async(),\r\n                'replace-existing-json-key': async () => await lisperanto.replace_existing_json_key_from_omnibox_text_async()\r\n            };\r\n\r\n            if ( key in map)\r\n            {\r\n                map[key]();\r\n            }\r\n            else if(lisperanto.activeOperation() === \"global-omni-box-activated\")\r\n            {\r\n                const availableEntries = lisperanto.filteredSearch();\r\n                var searchQuery = lisperanto.omniBoxTextInput().trim().toLowerCase();\r\n                const exactMatch = availableEntries.filter(entry => entry.text === searchQuery);\r\n                if(exactMatch.length === 1)\r\n                {\r\n                    var functionToOpen = lisperanto.customObjects[exactMatch[0].id];\r\n                    await lisperanto.openElement_async(functionToOpen);\r\n                    lisperanto.hideOmniBox();\r\n                }\r\n            }\r\n        }\r\n        else\r\n        {\r\n            //console.log(event.keyCode);\r\n        }\r\n    }\r\n    return true;\r\n}"},"time":"2022-09-25 20:13:07 (+3)"}