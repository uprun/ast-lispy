{"operation":"create-initial-version","id_to":"65c421e4d2d1b9f113994e0b93bb7ddc8f39966802bd7ef61685bcbde82a0dcf","initial-data":{"name@lisperanto":"openElement_async","type@lisperanto":"function","module@lisperanto":"lisperanto","programming-language@lisperanto":"javascript","previous-version@lisperanto":"a55bb393a93d0d6e1df99ff3fdd31d20b9e1206ce99c69bbac35bf39e426528e","javascript-function-definition@lisperanto":"async function(obj)\r\n{\r\n    await lisperanto.closeElement(obj);\r\n    var wrapper = await lisperanto.create_wrapper_for_canvas_async(obj);\r\n    if( !(wrapper.id() in lisperanto.mapOfOpenElements))\r\n    {\r\n        lisperanto.listOfOpenElements.push(wrapper);\r\n        lisperanto.mapOfOpenElements[wrapper.id()] = wrapper;\r\n    }\r\n\r\n    if(typeof(lisperanto.desiredOffset) !== \"undefined\")\r\n    {\r\n        wrapper.offsetX(lisperanto.desiredOffset.x);\r\n        wrapper.offsetY(lisperanto.desiredOffset.y);\r\n        console.log(\"set coordinates to desired offset: \" + JSON.stringify(lisperanto.desiredOffset));\r\n        lisperanto.desiredOffset = undefined;\r\n    }\r\n    else\r\n    {\r\n        const newLocalX = -lisperanto.globalOffsetX();\r\n        wrapper.offsetX(newLocalX);\r\n        const newLocalY = -lisperanto.globalOffsetY();\r\n        wrapper.offsetY(newLocalY);\r\n        console.log(\"set coordinates to anchor offsetted:\" + JSON.stringify({x: newLocalX, y: newLocalY}  ));\r\n    }\r\n    console.log(\"finished openElement\");\r\n}"},"time":"2022-09-24 23:46:50 (+3)"}