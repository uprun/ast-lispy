{"operation":"create-initial-version","id_to":"0cdca10e101c417e8bf3136d8a5df02c8525f0631c28a5da577e9e2b20781b26","initial-data":{"name@lisperanto":"omniBoxInputKeyPress_async","type@lisperanto":"function","module@lisperanto":"lisperanto","programming-language@lisperanto":"javascript","previous-version@lisperanto":"2d4a15d5fd21c4de66221a6b262f29843a3769e00b5cee0f737752239e85b81c","javascript-function-definition@lisperanto":"async function() \r\n{\r\n    if(event.code == \"Enter\" && (event.metaKey || event.ctrlKey))\r\n    {\r\n    }\r\n    else\r\n    {\r\n        if(event.keyCode == 13)\r\n        {\r\n            const key = lisperanto.activeOperation();\r\n            var map = \r\n            {\r\n                \"add-statement-key-to-json-entry\": () => lisperanto.add_statement_key_to_json_entry(),\r\n                'add-text-value-to-json-entry':async () => await lisperanto.add_text_value_to_json_entry_async(),\r\n                'replace-existing-json-key': async () => await lisperanto.replace_existing_json_key_from_omnibox_text_async()\r\n            };\r\n\r\n            if ( key in map)\r\n            {\r\n                map[key]();\r\n            }\r\n            else if(lisperanto.activeOperation() === \"global-omni-box-activated\")\r\n            {\r\n                const availableEntries = lisperanto.filteredSearch();\r\n                var searchQuery = lisperanto.omniBoxTextInput().trim().toLowerCase();\r\n                const exactMatch = availableEntries.filter(entry => entry.text === searchQuery);\r\n                if(exactMatch.length === 1)\r\n                {\r\n                    var functionToOpen = lisperanto.customObjects[exactMatch[0].id];\r\n                    await lisperanto.openElement_async(functionToOpen);\r\n                    lisperanto.hideOmniBox();\r\n                }\r\n            }\r\n        }\r\n        else\r\n        {\r\n            //console.log(event.keyCode);\r\n        }\r\n    }\r\n    return true;\r\n}"},"time":"2022-09-24 23:46:50 (+3)"}